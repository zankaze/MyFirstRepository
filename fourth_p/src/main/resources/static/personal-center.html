<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Amaze UI Admin index Examples</title>
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta name="description" content="这是一个 index 页面">
    <meta name="keywords" content="index">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="icon" type="image/png" href="assets/i/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">
    <meta name="apple-mobile-web-app-title" content="Amaze UI" />
    <link rel="stylesheet" href="assets/css/amazeui.min.css" />
    <link rel="stylesheet" href="assets/css/admin.css">
    <link rel="stylesheet" href="assets/css/app.css">

</head>

<body data-type="generalComponents">


    <header class="am-topbar am-topbar-inverse admin-header">
        <div class="am-topbar-brand">
            <a href="javascript:;" class="tpl-logo">
                <img src="assets/img/logo.png" alt="">
            </a>
        </div>

        <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only" data-am-collapse="{target: '#topbar-collapse'}"><span class="am-sr-only">导航切换</span> <span class="am-icon-bars"></span></button>
        <div class="am-collapse am-topbar-collapse" id="topbar-collapse">

            <ul class="am-nav am-nav-pills am-topbar-nav am-topbar-right admin-header-list tpl-header-list">
                <li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
                    <a class="am-dropdown-toggle tpl-header-list-link" >
                        <span class="am-icon-cog"> <span class="am-badge tpl-badge-success am-round">个人中心</span></span>
                    </a>
                    <ul class="am-dropdown-content tpl-dropdown-content">
                        <li class="tpl-dropdown-list-bdbc"><a  href="personal-center.html" class="tpl-dropdown-list-fl"><span class="am-icon-btn am-icon-bell-o tpl-dropdown-ico-btn-size tpl-badge-warning"></span> 个人资料中心</a>
                        </li>
                        <li class="tpl-dropdown-list-bdbc"><a href="order-form.html" class="tpl-dropdown-list-fl"><span class="am-icon-btn am-icon-plus tpl-dropdown-ico-btn-size tpl-badge-success"></span>我的订单中心</a>
                        </li>

                    </ul>
                </li>
                <li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
                    <a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
                        <span class="am-icon-star"></span> <span class="am-badge tpl-badge-danger am-round">游戏中心</span></span>
                    </a>
                    <ul class="am-dropdown-content tpl-dropdown-content">
                        <li id="youxi">
                            <a href="questions.html" class="tpl-dropdown-content-message">
                                <span class="tpl-dropdown-content-photo">
                      <img src="img/quweiwenda.png" alt=""> </span>
                                <span class="tpl-dropdown-content-subject">
                      <span class="tpl-dropdown-content-from"> 趣味问答 </span>
                                </span>
                                <span class="tpl-dropdown-content-font"> 百科知识趣味问答，增长知识的同时还可以获得积分哟 </span>
                            </a>

                        </li>

                    </ul>
                </li>
                <li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
                    <a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
                        <span class="am-icon-calendar"></span> <span class="am-badge tpl-badge-primary am-round">充值</span></span>
                    </a>
                    <ul class="am-dropdown-content tpl-dropdown-content" id="chongzhi">
                        <li>
                            <a href="chongzhi.html" class="tpl-dropdown-content-message">
                                <span class="tpl-dropdown-content-photo">
                      <img src="img/qianbao.jpg" alt=""> </span>
                                <span class="tpl-dropdown-content-subject">
                      <span class="tpl-dropdown-content-from">为我的钱包充值</span>
                                <span class="tpl-dropdown-content-font"> 充值的金额可以用来购买商品 </span>
                                </span> </a>
                        </li>

                    </ul>
                </li>


                <li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
                    <a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
                        <span class="tpl-header-list-user-nick" id="username"></span><span class="tpl-header-list-user-ico"> <img id="touxiang"></span>
                    </a>
                    <ul class="am-dropdown-content">
                        <li><a href="exitUser"><span class="am-icon-power-off"></span> 退出</a></li>
                    </ul>
                </li>

            </ul>
        </div>
    </header>
    <div class="tpl-content-wrapper tpl-content-wrapper-hover">
        <div class="tpl-content-page-title">
            个人信息
        </div>
        <ol class="am-breadcrumb">
            <li><a href="index.html" class="am-icon-home">首页</a></li>
            <li>个人</li>
            <li class="am-active">资料中心</li>
        </ol>
    <div class="tpl-content-wrapper tpl-content-wrapper-hover">
        <div class="tpl-content-page-title">
            个人资料中心
        </div>
        <ol class="am-breadcrumb">
            <li><a href="index.html" class="am-icon-home">首页</a></li>
            <li>个人</li>
            <li class="am-active">资料中心</li>
        </ol>
        <div class="tpl-portlet-components">
            <div class="portlet-title">
                <div class="caption font-green bold">
                    个人资料中心
                </div>

            </div>
            <div class="tpl-block ">
                <div class="am-g tpl-amazeui-form" style="width: 90%; height: 400px;">
                    <div class="am-btn am-btn-default am-btn-secondary" style="margin-left: 10px;"><a id="upload"><span id="wdtouxiang">我的头像</span></a></div>
                        <img src="" id="datouxiang" style="width: 150px; height: 200px;">

                    <div class="am-u-sm-12 am-u-md-9" style="float: right">
                            <div class="am-form-group" style="width: 300px; height: 60px;">
                                <label for="uname" class="am-u-sm-3 am-form-label" style="height: 60px; width: 100px; line-height: 35px;">我的昵称</label>
                                    <input type="text" id="uname" readonly="readonly">
                            </div>
                        <div class="am-form-group" style="width: 300px; height: 60px;">
                            <label for="uemail" class="am-u-sm-3 am-form-label" style="height: 60px; width: 100px; line-height: 35px;">我的邮箱</label>

                                <input type="text" id="uemail" readonly="readonly">

                        </div>
                        <div class="am-form-group" style="width: 300px; height: 60px;">
                            <label for="uaddress" class="am-u-sm-3 am-form-label" style="height: 60px; width: 100px; line-height: 35px;">我的地址</label>

                                <input type="text" id="uaddress" readonly="readonly">

                        </div>
                    </div>
                    <div class="am-u-sm-12 am-u-md-9" style="float: right">
                        <div class="am-form-group" id="dengji" style="width: 300px; height: 60px;">
                            <label for="ulevel" class="am-u-sm-3 am-form-label" style="height: 60px; width: 100px; line-height: 35px;">账户类型</label>
                            <input type="text" id="ulevel" readonly="readonly">
                        </div>
                        <div class="am-form-group" id="zhuangtai" style="width: 300px; height: 60px;">
                            <label for="ustatus" class="am-u-sm-3 am-form-label" style="height: 60px; width: 100px; line-height: 35px;">账户状态</label>
                            <input type="text" id="ustatus" readonly="readonly">
                        </div>
                        <br>
                        <br>
                        <div class="am-form-group" id="yue" style="width: 300px; height: 60px;">
                            <label for="umoney" class="am-u-sm-3 am-form-label" style="height: 60px; width: 100px; line-height: 35px;">账户余额</label>
                            <input type="text" id="umoney" readonly="readonly">
                        </div>
                    </div>
                </div>
            </div>

        </div>


    </div>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        ×
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        办理VIP
                    </h4>
                </div>

                <div class="modal-body">
                    <div ><img src="img/vip2.png" style="height: 200px;">
                        <br><br></div>
                    请输入您的密码
                    <input type="password" id="password" style="width: 350px;" name="user_name" placeholder="确认办理VIP后将自动扣除您账户里的100元"/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">再考虑一下
                    </button>
                    <button type="button" onclick="vip()" class="btn btn-primary">
                        确认办理
                    </button>
                </div>

            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>

        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/amazeui.min.js"></script>
        <script src="assets/js/iscroll.js"></script>
        <script src="assets/js/app.js"></script>
        <script src="js/getInfo.js"></script>
<script type="text/javascript">
    $.ajax({
        type: "get",
        url: 'getUserName',
        async: false, // 使用同步方式
        contentType: "application/json; charset=utf-8",
        success: function(data) {
            $("#datouxiang").attr("src",data.headportrait);
            $("#uname").val(data.username);
            $("#uemail").val(data.email);
            $("#uaddress").val(data.addresses);
            $("#umoney").val(data.usermoney+"元");
            if(data.headportrait==null){
                var wt =document.getElementById("wdtouxiang");
                wt.innerText="未上传头像"
            $(".am-btn-secondary").attr("class","am-btn am-btn-default am-btn-danger")
                $("#upload").attr("href","form-line.html")
            }else{
                $("#touxiang").attr("src",data.headportrait);
            }
           var vip = data.userlevel;
           if(vip=="0"){
               $("#ulevel").val("普通用户");
               var apped = "  <button data-toggle=\"modal\" data-target=\"#myModal\" id='getvip' type=\"button\"  class=\"am-btn am-btn-default am-btn-danger\">成为VIP</button>"
               $("#dengji").append(apped);
           }else{
               $("#ulevel").val("VIP用户");
           }
            var sta = data.userstatus;
           if (sta=="false"){
               $("#ustatus").val("信息未完善");
               var apped = "<br> <br><button type=\"button\" onclick=\"window.location.href='form-amazeui.html'\" class=\"am-btn am-btn-default am-btn-warning\">去完善信息</button>"
               $("#zhuangtai").append(apped);
           }else{
               $("#ustatus").val("信息完善");
           }
        }
    });
    function vip() {
        var pw = $("#password").val();
        $.ajax({
            type:"get",
            url:"getVIP?password="+pw,
            async: false,
            contentType: "application/json",
            success:function (data) {
                if(data=="true"){
                    alert("办理成功")
                    window.location.href="personal-center.html";
                }else{
                    alert(data)
                }
            }
        })
    }


</script>
</body>

</html>